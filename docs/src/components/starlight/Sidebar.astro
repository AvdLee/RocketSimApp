---
import Default from "@astrojs/starlight/components/Sidebar.astro";
---

<Default><slot /></Default>

<script>
  // Prevent the "Features" sidebar group from being collapsed
  const sidebars = document.querySelectorAll(".sidebar");

  sidebars.forEach((sidebar) => {
    const featureDetails = Array.from(
      sidebar.querySelectorAll(".top-level > li > details")
    ).find((details) => {
      const summary = details.querySelector(":scope > summary");
      return summary && summary.textContent.trim() === "Features";
    });

    if (featureDetails) {
      featureDetails.setAttribute("open", "");
      featureDetails
        .querySelector(":scope > summary")
        ?.addEventListener("click", (e) => {
          e.preventDefault();
        });
    }
  });
</script>
